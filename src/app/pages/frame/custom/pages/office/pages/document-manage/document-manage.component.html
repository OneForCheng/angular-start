<div class="container-fluid">
	<div class="row">
		<div class="col-md-4 none-padding-right">
			<div class="panel panel-default theme-skin-three">
				<div class="typeHead">
					<span class="docType">文档类型</span>
					<span class="pull-right fa fa-plus addBtn" title="添加文档类型" (click)="docTypeModal.open()"></span>
				</div>
				<div class="typeBody">
					<div class="typeBodyHead text-muted">
						<span>标记</span>
						<span class="type">类型名称</span>
						<span class="pull-right">数量</span>
					</div>
					<ul>
						<li *ngFor="let docType of docTypeList"
						    [class.selected]="docType.c_id===selectedType"
						    (click)="onSelect(docType)">
							<span class="tag">{{docType.c_info.replace(" ","").substring(0,1)}}</span>
							<span class="typeDoc">{{docType.c_info}}</span>
							<span class="pull-right del_icon" title="删除" (click)="deleteDocType(docType)"><i class="fa fa-trash"></i></span>
							<span class="pull-right">{{docType.c_num}}</span>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="col-md-8">
			<div class="panel panel-default docListPanel">
				<div class="typeHeadTwo">
					<span class="docType">{{typeTitle}}</span>
					<span class="btn btn-success btn-xs addDoc" title="添加文档" (click)="addDoc()">
						<span class="fa fa-plus"></span>
					</span>
				</div>
				<div class="typeBody">
					<table class="table table-hover">
						<thead>
						<tr>
							<th class="text-center">名称</th>
							<th class="text-center">大小</th>
							<th class="text-center">上传人</th>
							<th class="text-center">上传时间</th>
							<th class="text-center">操作</th>
						</tr>
						</thead>
						<tbody>
						<tr *ngFor="let doc of docList;let i=index;" [class.info]="i%2===1">
							<td class="text-center">{{doc.c_name}}</td>
							<td class="text-center">{{doc.formatSize}}</td>
							<td class="text-center"></td>
							<td class="text-center">{{doc.d_createtime | date:'yyyy-MM-dd'}}</td>
							<td class="text-center">
								<span class="btn btn-success btn-xs" title="下载"><a href="{{serverHost}}auth/attachmentItems/download.do?c_id={{doc.c_id}}"><i class="fa fa-arrow-circle-down"></i></a></span>
								<span class="btn btn-danger btn-xs" title="删除" (click)="deleteDocById(doc)"><i class="fa fa-trash"></i></span>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<modal #docTypeModal>
	<modal-header [show-close]="true">
		<h4 class="modal-title">{{modalTitle}}</h4>
	</modal-header>
	<modal-body>
		<doc-type-form (cancle)="onTypeCancle()" (confirm)="onTypeConfirm($event)">
		</doc-type-form>
	</modal-body>
</modal>
<modal #docModal>
	<modal-header [show-close]="true">
		<h4 class="modal-title">添加文档</h4>
	</modal-header>
	<modal-body>
		<doc-form (cancle)="onDocCancle()" (confirm)="onDocConfirm($event)" [selectedType]="selectedType" *ngIf="showModal">
		</doc-form>
	</modal-body>
</modal>

